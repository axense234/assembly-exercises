     1                                  bits 32
     2                                  
     3                                  global start        
     4                                  
     5                                  extern exit, scanf, printf
     6                                  import exit msvcrt.dll
     7                                  import scanf msvcrt.dll
     8                                  import printf msvcrt.dll
     9                                  
    10                                  ; Problem Statement
    11                                  ; Given N strings, for each string print to the console "Yes" if string is a palindrome, and "No" otherwise.
    12                                  ; ex: n = 2
    13                                  ;     s = reviver
    14                                  ;     Yes
    15                                  ;     s = horse
    16                                  ;     No
    17                                  
    18                                  segment data use32 class=data
    19 00000000 6E203D2000                  printf_format_n db "n = ", 0
    20 00000005 256400                      scanf_format_n db "%d", 0
    21                                      
    22 00000008 73203D2000                  printf_format_s db "s = ", 0
    23 0000000D 257300                      scanf_format_s db "%s", 0
    24                                      
    25 00000010 5965730A00                  printf_format_yes db "Yes", 10, 0
    26 00000015 4E6F0A00                    printf_format_no db "No", 10, 0
    27                                      
    28 00000019 25630A00                    printf_format_char db "%c", 10, 0
    29                                      
    30 0000001D <res 00000004>              n resd 1
    31                                      
    32 00000021 <res 00000004>              current resd 1
    33                                      
    34                                  
    35                                  segment code use32 class=code
    36                                      start:
    37 00000000 68[00000000]                    push dword printf_format_n
    38 00000005 FF15[00000000]                  call [printf]
    39 0000000B 83C404                          add esp, 1 * 4
    40                                          
    41 0000000E 68[1D000000]                    push dword n
    42 00000013 68[05000000]                    push dword scanf_format_n
    43 00000018 FF15[00000000]                  call [scanf]
    44 0000001E 83C408                          add esp, 2 * 4
    45                                          
    46 00000021 8B0D[1D000000]                  mov ecx, [n]
    47                                          
    48                                          program:
    49 00000027 51                                  push ecx
    50                                          
    51 00000028 68[08000000]                        push dword printf_format_s
    52 0000002D FF15[00000000]                      call [printf]
    53 00000033 83C404                              add esp, 1 * 4
    54                                              
    55 00000036 68[21000000]                        push dword current
    56 0000003B 68[0D000000]                        push dword scanf_format_s
    57 00000040 FF15[00000000]                      call [scanf]
    58 00000046 83C408                              add esp, 2 *4
    59                                              
    60 00000049 BE[21000000]                        mov esi, current
    61 0000004E 56                                  push esi
    62                                              
    63 0000004F 89F7                                mov edi, esi
    64 00000051 B9FFFFFFFF                          mov ecx, -1
    65 00000056 30C0                                xor al, al
    66 00000058 F2AE                                repne scasb
    67                                              
    68 0000005A 4F                                  dec edi
    69 0000005B 5E                                  pop esi
    70                                              
    71                                              palindrome:
    72 0000005C 39FE                                    cmp esi, edi
    73 0000005E 7D0A                                    jge yes_palindrome
    74                                              
    75                                              
    76 00000060 A4                                      movsb
    77 00000061 3A07                                    cmp al, [edi]
    78 00000063 751B                                    jne not_palindrome
    79                                                  
    80 00000065 46                                      inc esi
    81 00000066 4F                                      dec edi
    82                                              
    83 00000067 59                                  pop ecx
    84                                              
    85 00000068 E2BD                                loop program
    86                                              
    87                                              
    88                                          yes_palindrome:
    89 0000006A 68[10000000]                        push dword printf_format_yes
    90 0000006F FF15[00000000]                      call [printf]
    91 00000075 83C404                              add esp, 1 * 4
    92                                          
    93 00000078 6A00                                push    dword 0      
    94 0000007A FF15[00000000]                      call    [exit]
    95                                              
    96                                          not_palindrome:
    97 00000080 68[15000000]                        push dword printf_format_no
    98 00000085 FF15[00000000]                      call [printf]
    99 0000008B 83C404                              add esp, 1 * 4
   100                                          
   101 0000008E 6A00                                push dword 0
   102 00000090 FF15[00000000]                      call [exit]
   103                                          
